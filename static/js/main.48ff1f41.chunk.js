(this.webpackJsonpkanjimage=this.webpackJsonpkanjimage||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},177:function(e,t){},179:function(e,t){},191:function(e,t){},193:function(e,t){},292:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(10),c=n.n(a),u=n(111),s=n.n(u),o=(n(118),n(119),n(2)),i=n.n(o),f=n(6),l=n(19);var p=function(e){var t=e.clickHandler,n=e.text;return Object(r.jsx)("div",{children:Object(r.jsx)("button",{onClick:t,children:n})})};var b=function(e){var t=e.min,n=e.max,a=e.value,c=e.slideHandler;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{className:"slider",type:"range",min:t,max:n,onInput:c}),a]})};var v=function(e){var t=e.text,n=Object(a.useState)([{name:"jisho",url:"https://jisho.org/search/"},{name:"weblio",url:"https://www.weblio.jp/content/"}]),c=Object(l.a)(n,2),u=c[0];return c[1],t?Object(r.jsx)("ul",{children:u.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:e.url+t,children:e.name})})}))}):null},d=(n(120),function(e,t){for(var n,r=0;r<e.length;r++){var a=e[r];if(console.log(a),a.type.match(/image\/.*/)){n=a.getAsFile();break}}var c=new FileReader;c.onload=function(){var e=Object(f.a)(i.a.mark((function e(r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.arrayBuffer();case 2:a=e.sent,t({buff:a,base64:r.target.result});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n&&c.readAsDataURL(n)});var x=function(e){return Object(r.jsxs)("div",{className:"dropzone",onDragOver:function(e){e.preventDefault()},onDrop:function(t){console.log("File dropped"),t.preventDefault();var n=t.dataTransfer.items;d(n,e.setImage)},children:[e.render()?null:"Paste image from clipboard or drag and drop here",Object(r.jsx)("img",{id:"image",src:e.render(),alt:""})]})},j=n(112),g=n.n(j),h=n(7),O=n.n(h),m=n(291),w={};w.enlargeImage=function(){var e=Object(f.a)(i.a.mark((function e(t){var n,r,a,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.read(t);case 3:return n=e.sent,r=2*n.bitmap.width,a=2*n.bitmap.height,console.log(n),n.resize(r,a,O.a.RESIZE_BICUBIC),e.next=9,n.getBase64Async(O.a.AUTO);case 9:return c=e.sent,e.next=12,n.getBufferAsync(O.a.AUTO);case 12:return u=e.sent,e.abrupt("return",{buff:u,base64:c});case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),w.blur=function(){var e=Object(f.a)(i.a.mark((function e(t,n){var r,a,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=1,e.prev=1,e.next=4,O.a.read(t);case 4:return a=e.sent,n?a.gaussian(r):a.blur(r),e.next=8,a.getBase64Async(O.a.AUTO);case 8:return c=e.sent,e.next=11,a.getBufferAsync(O.a.AUTO);case 11:return u=e.sent,e.abrupt("return",{buff:u,base64:c});case 15:e.prev=15,e.t0=e.catch(1),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}(),w.threshold=function(){var e=Object(f.a)(i.a.mark((function e(t){var n,r,a,c,u,s,o,f=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:128,r=document.createElement("canvas"),console.log(r),a=function(e){return m.thresholding(e,n)},m.filterImage(r,a,t),c=r.toDataURL("image/png"),u=new Promise((function(e,t){r.toBlob((function(t){console.log(1,t),e(t)}))})),e.next=9,u;case 9:return s=e.sent,console.log(2,s),e.next=13,s.arrayBuffer();case 13:return o=e.sent,e.abrupt("return",{buff:o,base64:c});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w.saturate=function(){var e=Object(f.a)(i.a.mark((function e(t){var n,r,a,c,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:50,e.prev=1,e.next=4,O.a.read(t);case 4:return(r=e.sent).color([{apply:"saturate",params:[n]}]),e.next=8,r.getBase64Async(O.a.AUTO);case 8:return a=e.sent,e.next=11,r.getBufferAsync(O.a.AUTO);case 11:return c=e.sent,e.abrupt("return",{buff:c,base64:a});case 15:e.prev=15,e.t0=e.catch(1),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),w.greyscale=function(){var e=Object(f.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.read(t);case 3:return(n=e.sent).greyscale(),e.next=7,n.getBase64Async(O.a.AUTO);case 7:return r=e.sent,e.next=10,n.getBufferAsync(O.a.AUTO);case 10:return a=e.sent,e.abrupt("return",{buff:a,base64:r});case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),w.invert=function(){var e=Object(f.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.read(t);case 3:return(n=e.sent).invert(),e.next=7,n.getBase64Async(O.a.AUTO);case 7:return r=e.sent,e.next=10,n.getBufferAsync(O.a.AUTO);case 10:return a=e.sent,e.abrupt("return",{buff:a,base64:r});case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),w.recognize=function(){var e=Object(f.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("processing..."),e.next=3,g.a.recognize(t,"jpn");case 3:return n=e.sent,console.log(n),console.log(n.data.text),e.abrupt("return",n.data.text);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var y=w;var k=function(){var e=Object(a.useState)({buff:null,base64:null}),t=Object(l.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(""),s=Object(l.a)(u,2),o=s[0],j=s[1],g=Object(a.useState)(128),h=Object(l.a)(g,2),O=h[0],m=h[1],w=Object(a.useState)(50),k=Object(l.a)(w,2),A=k[0],B=k[1],I=function(e){var t=e.clipboardData.items;console.log(t),d(t,c)};Object(a.useEffect)((function(){document.addEventListener("paste",I)}),[]),Object(a.useEffect)((function(){n.base64&&(j("Loading..."),y.recognize(n.base64).then((function(e){console.log(e),j(e)})))}),[n]);var T=function(){var e=Object(f.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.buff){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y.enlargeImage(n.buff);case 4:t=e.sent,c(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(f.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.buff){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y.blur(n.buff,!0);case 4:t=e.sent,c(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(f.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("image"),e.next=3,y.threshold(t,O);case 3:n=e.sent,c(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.buff){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y.saturate(n.buff,A);case 4:t=e.sent,c(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.buff){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y.greyscale(n.buff);case 4:t=e.sent,c(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.buff){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y.invert(n.buff);case 4:t=e.sent,c(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[n.base64?void 0:"no image",Object(r.jsx)(x,{render:function(){return n.base64},setImage:function(e){return c(e)}}),Object(r.jsx)(p,{clickHandler:T,text:"Enlarge by x2"}),Object(r.jsx)(p,{clickHandler:U,text:"Gausian blur"}),Object(r.jsx)(b,{min:0,max:255,value:O,slideHandler:function(e){m(parseInt(e.target.value))}}),Object(r.jsx)(p,{clickHandler:H,text:"threshold"}),Object(r.jsx)(b,{min:0,max:100,value:A,slideHandler:function(e){B(parseInt(e.target.value)),console.log(A)}}),Object(r.jsx)(p,{clickHandler:E,text:"saturation"}),Object(r.jsx)(p,{clickHandler:F,text:"greyscale"}),Object(r.jsx)(p,{clickHandler:D,text:"invert"}),o,Object(r.jsx)(v,{text:o})]})};var A=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(k,{})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,293)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,u=t.getTTFB;n(e),r(e),a(e),c(e),u(e)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(A,{})}),document.getElementById("root")),B()}},[[292,1,2]]]);
//# sourceMappingURL=main.48ff1f41.chunk.js.map