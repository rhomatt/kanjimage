(this.webpackJsonpkanjimage=this.webpackJsonpkanjimage||[]).push([[0],{118:function(e,n,t){},119:function(e,n,t){},120:function(e,n,t){},177:function(e,n){},179:function(e,n){},191:function(e,n){},193:function(e,n){},291:function(e,n,t){"use strict";t.r(n);var r=t(3),a=t(11),c=t.n(a),o=t(111),s=t.n(o),u=(t(118),t(119),t(5)),i=t.n(u),f=t(15),l=t(55);var p=function(e){var n=e.clickHandler,t=e.text;return Object(r.jsx)("div",{children:Object(r.jsx)("button",{onClick:n,children:t})})},b=(t(120),function(e,n){for(var t,r=0;r<e.length;r++){var a=e[r];if(console.log(a),a.type.match(/image\/.*/)){t=a.getAsFile();break}}var c=new FileReader;c.onload=function(){var e=Object(f.a)(i.a.mark((function e(r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:a=e.sent,n({buff:a,base64:r.target.result});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),t&&c.readAsDataURL(t)});var d=function(e){return Object(r.jsxs)("div",{className:"dropzone",onDragOver:function(e){e.preventDefault()},onDrop:function(n){console.log("File dropped"),n.preventDefault();var t=n.dataTransfer.items;b(t,e.setImage)},children:[e.render()?null:"Paste text from clipboard or drag and drop here",Object(r.jsx)("img",{src:e.render(),alt:""})]})},g=t(112),j=t.n(g),v=t(25),h=t.n(v);function x(e){return O.apply(this,arguments)}function O(){return(O=Object(f.a)(i.a.mark((function e(n){var t,r,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.read(n);case 3:return t=e.sent,r=2*t.bitmap.width,a=2*t.bitmap.height,console.log(t),t.resize(r,a,h.a.RESIZE_BICUBIC),e.next=9,t.getBase64Async(h.a.AUTO);case 9:return c=e.sent,e.next=12,t.getBufferAsync(h.a.AUTO);case 12:return o=e.sent,e.abrupt("return",{buff:o,base64:c});case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function m(){return(m=Object(f.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("processing..."),e.next=3,j.a.recognize(n,"jpn");case 3:return t=e.sent,console.log(t),console.log(t.data.text),e.abrupt("return",t.data.text);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(){var e=Object(a.useState)({buff:null,base64:null}),n=Object(l.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),s=Object(l.a)(o,2),u=s[0],g=s[1],j=function(e){var n=e.clipboardData.items;console.log(n),b(n,c)};Object(a.useEffect)((function(){document.addEventListener("paste",j)}),[]),Object(a.useEffect)((function(){t.base64&&(g("Loading..."),function(e){return m.apply(this,arguments)}(t.base64).then((function(e){console.log(e),g(e)})))}),[t]);var v=function(){var e=Object(f.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.buff){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,x(t.buff);case 4:n=e.sent,console.log(n),c(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[t.base64?void 0:"no image",Object(r.jsx)(d,{render:function(){return t.base64},setImage:function(e){return c(e)}}),Object(r.jsx)(p,{clickHandler:v,text:"Enlarge by x2"}),u]})};var w=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(k,{})})},y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,292)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),r(e),a(e),c(e),o(e)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(w,{})}),document.getElementById("root")),y()}},[[291,1,2]]]);
//# sourceMappingURL=main.52b80e83.chunk.js.map